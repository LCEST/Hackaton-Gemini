<div data-trigger-confettis>
	<slot />
</div>

<div class="wrapper">
	<canvas id="confettis"></canvas>
</div>

<script
	is:inline
	src="https://cdn.jsdelivr.net/npm/confetti-js@0.0.18/dist/index.min.js"
></script>

<style>
	.wrapper {
		top: 0;
		position: fixed;
		width: 100%;
		height: 100%;
		pointer-events: none;
		z-index: 999;
	}
</style>

<script>
	const confettiElement = document.querySelector('#confettis');

	function popIt() {
		const confettiSettings = {
			target: confettiElement,
			start_from_edge: true,
			respawn: false,
			max: 150,
			clock: 80
		};
		const confetti = new ConfettiGenerator(confettiSettings);
		confetti.render();
		setTimeout(() => confetti.clear(), 10000);
	}

	if (confettiElement)
		setTimeout(() => popIt(), 1500);
</script>
